<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Web Tester</title>
	<script src="https://code.jquery.com/jquery-1.12.4.min.js" integrity="sha256-ZosEbRLbNQzLpnKIkEdrPv7lOy9C27hHQ+Xp8a4MxAQ=" crossorigin="anonymous"></script>
<!-- 	<script src="./scatter-js/scatter.min.js"></script> -->
	<script src="https://cdn.jsdelivr.net/npm/eosjs@15.0.3/lib/eos.min.js" integrity="sha512-QX0dPq5pyX33coEuy5x1UqKHFDeveQYMp7Sz+qOUwRL9mol4QDvViU+QAjd+k6P7QjPjrDCoyhK1kz2GDxCP9A==" crossorigin="anonymous"></script>
	<script src="https://cdn.scattercdn.com/file/scatter-cdn/js/latest/scatterjs-core.min.js"></script>
	<script src="https://cdn.scattercdn.com/file/scatter-cdn/js/latest/scatterjs-plugin-eosjs2.min.js"></script>
</head>
<body>
<script>

const network = {
	blockchain: 'eos',
	protocol: 'http',
	host: '192.168.0.200',
	port: '8888',
	chainId: 'e70aaab8997e1dfce58fbfac80cbbb8fecec7b99cf982a9444273cbc64c41473',
};

const config = {
	chainId: network.chainId,
//	keyProvider: ['PrivateKeys...'],
	httpEndpoint: network.protocol + "://" + network.host + ":" + network.port,
	expireInSeconds: 60,
	broadcast: true,
	verbose: false, // API activity
	sign: true
};


var eos = Eos(config);

eos.getInfo((err, info) => {
	console.log("getInfo", err, info);
});


ScatterJS.plugins( new ScatterEOS() );


///*
ScatterJS.scatter.connect("test", {initTimeout:2000}).then(connected => {
	if(!connected)
	{
		console.log('connection failed');
		return false;
	}

	const scatter = ScatterJS.scatter;
	window.ScatterJS = null;

	console.log('scatter', scatter);

	scatter.getIdentity({accounts:[network]}).then(identity => {
			const account = scatter.identity.accounts.find(x => x.blockchain === network.blockchain);
			const eos = this.scatter.eos(network, Eos, config);
			console.log("eos", eos);
		},
		function(error)
		{
			console.log("login failed")
		});
});
/**/


</script>
</body>
</html>

